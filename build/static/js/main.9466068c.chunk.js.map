{"version":3,"sources":["components/PersonForm.js","components/Persons.js","components/Filter.js","services/notes.js","components/Message.js","App.js","index.js"],"names":["PersonForm","props","onSubmit","add","value","newName","onChange","handleNameChange","newPhone","handlePhoneChange","type","Persons","p","handleDelete","id","name","number","onClick","Filter","newFilter","handleFilterChange","baseUrl","axios","get","then","response","data","newObj","post","delete","put","Message","message","addStyle","color","fontSize","background","borderStyle","borderRadius","padding","marginBottom","errorStyle","includes","style","App","useState","persons","setPersons","setNewName","setNewPhone","setNewFilter","setMessage","del","setDel","event","person","filter","a","target","map","console","log","window","confirm","noteService","catch","error","setTimeout","useEffect","note","preventDefault","personObject","b","c","x","q","alert","returnNote","concat","toLowerCase","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9466068c.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst PersonForm = (props) => {\r\n\r\n    return(\r\n      <form onSubmit={props.add}>\r\n      <div>\r\n        name: <input value = {props.newName} onChange = {props.handleNameChange}/>\r\n      </div>\r\n      <div>\r\n        number: <input value = {props.newPhone} onChange = {props.handlePhoneChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n    )\r\n  }\r\n\r\n  export default PersonForm","import React from 'react'\r\n\r\nconst Persons =( {p, handleDelete, id} ) => {\r\nreturn(\r\n    <div>\r\n    {p.name} {p.number} <button value ={id} onClick = {handleDelete}>delete</button>\r\n    </div>\r\n)\r\n\r\n}\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = ({ newFilter, handleFilterChange }) => {\r\n    return (\r\n        <div>filter shown with\r\n            <input value={newFilter} onChange={handleFilterChange} /></div>\r\n\r\n    )\r\n}\r\nexport default Filter","import axios from \"axios\";\r\nconst baseUrl = 'api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObj => {\r\n    const request = axios.post(baseUrl, newObj)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObj) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObj)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePhone = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\nexport default { getAll, create, deletePhone, update }","import React from 'react'\r\nconst Message = ({ message }) => {\r\n    const addStyle = {\r\n        color: 'green',\r\n        fontSize: 20,\r\n        background: 'lightgrey',\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n    const errorStyle = {\r\n        ...addStyle, color: 'red'\r\n    }\r\n    if (message === null) { return null }\r\n    else if (message.includes('removed')||message.includes('validation')) {\r\n        return (\r\n            <div style={errorStyle}>{message}</div>\r\n        )\r\n    }\r\n    return (\r\n        <div style={addStyle}>{message}</div>\r\n    )\r\n}\r\nexport default Message","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport noteService from './services/notes'\nimport Message from './components/Message'\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newPhone, setNewPhone] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [message, setMessage] = useState(null)\n  const [del, setDel] = useState(1)\n\n  const add = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newPhone\n    }\n    const a = persons.map(a => a.name)\n    const b = persons.map(a => a.number)\n    const c = persons.filter(x => x.name === newName).map(q => q.id)\n\n    if (a.includes(newName) && b.includes(newPhone)) {\n      window.alert(`${newName} is already added to phonebook`)\n    } else if ((a.includes(newName) && !(b.includes(newPhone)))) {\n\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number?`)) {\n        noteService\n          .update(c, personObject)\n          .then(setDel(del + 1))\n      }\n    } else {\n      noteService\n        .create(personObject)\n        .then(returnNote => { \n          setPersons(persons.concat(returnNote)) \n          setMessage(`Added ${newName}`)\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          setMessage(error.response.data.error)\n        })\n      \n      setTimeout(() => setMessage(null), 5000)\n    }\n    setNewName('')\n    setNewPhone('')\n  }\n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handlePhoneChange = (event) => setNewPhone(event.target.value)\n  const handleFilterChange = (event) => setNewFilter(event.target.value)\n  const handleDelete = (event) => {\n    const person = persons.filter(a => a.name === event.target.value).map(a => a.id)\n    console.log(person);\n    const confirm = window.confirm(`Delete ${event.target.value}?`)\n    if (confirm) {\n      noteService\n        .deletePhone(person)       \n        .catch(error => {\n          setMessage(`Information of ${event.target.value} has already been removed from server`)\n          setTimeout(() => setMessage(null), 5000)\n        })\n        setDel(del + 1)\n        console.log(del)\n    }\n  }\n  const hook = () => {\n    noteService\n      .getAll()\n      .then(note => { setPersons(note) })\n  }\n  useEffect(hook, [del])\n\n  return (\n    <div>\n      <h1>PhoneBook</h1>\n      <Message message={message} />\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\n      <h2>add a new</h2>\n      <PersonForm add={add} newName={newName} newPhone={newPhone}\n        handleNameChange={handleNameChange} handlePhoneChange={handlePhoneChange} />\n      <h2>Numbers</h2>\n      <p key={del}>\n        {persons.filter(a => a.name.toLowerCase().includes(newFilter.toLowerCase()))\n          .map(c => <Persons key={c.id} p={c} id={c.name} handleDelete={handleDelete} />)}\n      </p>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n\n"],"sourceRoot":""}